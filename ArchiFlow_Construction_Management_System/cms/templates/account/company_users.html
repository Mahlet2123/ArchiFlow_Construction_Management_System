{% extends "account/base.html" %}

{% load i18n %}

{% block head_title %}{% trans "Company Users" %}{% endblock head_title %}

{% block content %}

<div class="container mt-5 mb-5">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2><strong>Company Users</strong></h2>
        <div>
            <a href="{% url 'invite_user' %}">
                <button class="primaryAction btn" style="background-color: #7EE0FF; border: none;" type="button">Add New</button>
            </a>
        </div>
    </div>
    <div>
        <hr>
        <div class="table-responsive">
        <table id="userTable" class="table table-striped">
            <thead>
                <tr>
                    <th>Image</th>
                    <th>Full Name & Role</th>
                    <th>Email</th>
                    <th>Phone</th>
                    <th>Action</th>                    
                </tr>
            </thead>
            <tbody>
                <!-- Data will be populated here -->
                {% for user in users %}
                <tr>
                    <td class="align-middle"><img src="{{ user.profile_image.url }}" alt="{{ user.first_name }} Image" class="img-thumbnail" style="max-width: 100px;"></td>
                    <td class="align-middle">{{ user.first_name }} {{ user.last_name}} <br> {{ user.title }}</td>
                    <td class="align-middle">{{ user.user.email }}</td>
                    <td class="align-middle">{{ user.phone_number }}</td>
                    <td class="align-middle">
                        <a href="{% url 'delete_company_users' user_id=user.user.id %}" onclick="return confirm('Are you sure you want to delete this User?');"><i class="fas fa-trash" style="color: red;"></i></a>
                    </td>                    
                </tr>
                {% endfor %}
            </tbody>
        </table>
        </div>
    </div>
</div>
{% endblock content %}